(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();new Audio("./assets/lostinmusic.mp3");const b=document.querySelector("#display");if(!b)throw new Error("Oopsie");let t={display:null,operation:null,memory:null,lastInput:null,theme:"light"};const s=()=>{t.display?b.innerText=t.display:b.innerText="0"},F=()=>{console.log("clearing"),t.display=null,t.memory=null,t.operation=null,s()},c=n=>{if(/[0-9]|\./.test(n)){const e=t.display;e?t={...t,display:e+n}:t={...t,display:n},t.lastInput=Number(t.display)}else n==="π"&&(t={...t,display:Math.PI.toString()});s()},K=()=>{console.log("backspace"),t.display===null||t.display.length===1?t.display=null:t={...t,display:t.display.substring(0,t.display.length-1)},s()},a=n=>{let{operation:e,display:l,memory:u,lastInput:o}=t;e=n,u=Number(t.display??t.memory),o=Number(t.display??t.lastInput),l=null,t={...t,operation:e,display:l,memory:u,lastInput:o}},j=()=>{if(!t.memory)return null;const n=t.memory;let e;if(t.display!==null)e=Number(t.display);else if(t.lastInput!==null)e=t.lastInput;else return;switch(t.operation){case"divide":t={...t,display:(n/e).toString()};break;case"multiply":t={...t,display:(n*e).toString()};break;case"subtract":t={...t,display:(n-e).toString()};break;case"add":t={...t,display:(n+e).toString()};break;case"power":t={...t,display:(n**e).toString()};break;default:throw new Error("Operation not supported")}t.memory=Number(t.display),s(),t.display=null},m=n=>{const e=document.querySelector(".calculator");if(!e)throw new Error("Calculator not found");const l=document.querySelector("audio");if(!l)throw new Error("Audio not found");switch(n){case"dark":t={...t,theme:"dark"},e.classList.remove("theme-disco"),e.classList.remove("theme-light"),e.classList.add("theme-dark"),l.pause();break;case"disco":t={...t,theme:"disco"},e.classList.add("theme-disco"),e.classList.remove("theme-light"),e.classList.remove("theme-dark"),l.play();break;case"light":t={...t,theme:"light"},e.classList.remove("theme-disco"),e.classList.add("theme-light"),e.classList.remove("theme-dark"),l.pause();break}},p=document.querySelector(".calculator__button--button-1"),y=document.querySelector(".calculator__button--button-2"),_=document.querySelector(".calculator__button--button-3"),f=document.querySelector(".calculator__button--button-4"),h=document.querySelector(".calculator__button--button-5"),v=document.querySelector(".calculator__button--button-6"),L=document.querySelector(".calculator__button--button-7"),k=document.querySelector(".calculator__button--button-8"),S=document.querySelector(".calculator__button--button-9"),E=document.querySelector(".calculator__button--button-0"),g=document.querySelector(".calculator__button--button-period"),q=document.querySelector(".calculator__button--button-add"),w=document.querySelector(".calculator__button--button-subtract"),O=document.querySelector(".calculator__button--button-multiply"),N=document.querySelector(".calculator__button--button-divide"),I=document.querySelector(".calculator__button--button-power"),P=document.querySelector(".calculator__button--button-clear"),A=document.querySelector(".calculator__button--button-backspace"),T=document.querySelector(".calculator__button--button-evaluate"),x=document.querySelector(".calculator__button--button-pi"),C=document.querySelector(".calculator__button--button-theme1"),D=document.querySelector(".calculator__button--button-theme2"),M=document.querySelector(".calculator__button--button-theme3"),d=document.querySelector(".debug");if(!p||!y||!_||!f||!h||!v||!L||!k||!S||!E||!x)throw new Error("Oopsie, a number button wasn't found");if(!g||!q||!w||!O||!N||!I||!P||!A||!T||!C||!D||!M)throw new Error("Oopsie, an operator button wasn't found");p.addEventListener("click",()=>c("1"));y.addEventListener("click",()=>{c("2")});_.addEventListener("click",()=>{c("3")});f.addEventListener("click",()=>{c("4")});h.addEventListener("click",()=>{c("5")});v.addEventListener("click",()=>{c("6")});L.addEventListener("click",()=>{c("7")});k.addEventListener("click",()=>{c("8")});S.addEventListener("click",()=>{c("9")});E.addEventListener("click",()=>{c("0")});g.addEventListener("click",()=>{c(".")});x.addEventListener("click",()=>{c("π")});q.addEventListener("click",()=>{a("add")});w.addEventListener("click",()=>{a("subtract")});O.addEventListener("click",()=>{a("multiply")});N.addEventListener("click",()=>{a("divide")});I.addEventListener("click",()=>{a("power")});C.addEventListener("click",()=>{m("light")});D.addEventListener("click",()=>{m("dark")});M.addEventListener("click",()=>{m("disco")});P.addEventListener("click",F);A.addEventListener("click",K);T.addEventListener("click",j);d==null||d.addEventListener("click",()=>{console.log(t)});s();
